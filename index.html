<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <h1>ROCK PAPER SCISSORS </h1>

    <button id = "rock" class="item">ROCK</button>
    <button id = "paper" class="item">PAPER</button>
    <button id="scissors" class="item">SCISSORS</button>
    <button id="game">Play !!</button>

    <div class="results">

    </div>



<script>
    //In this game, rock is equal to zero, paper is one and scissors is two
    let gameOnButton = document.querySelector("#game");

    let buttons = document.querySelectorAll(".item");

    let results = document.querySelector(".results");

    let result = document.createElement('h1');

    let playerDecision;

    buttons.forEach(button => {

        button.addEventListener("click", () => {
            playerDecision = button.innerText;

        });

    })

    let getComputerChoice = () => {

        let computerDecision = Math.floor(Math.random() * 3) ;


        return computerDecision;
    }

    let getPlayerChoice = (playerDecision) => {

        playerDecision = playerDecision.toUpperCase();

        if(playerDecision === "ROCK"){
            playerDecision = 0; //Changed the string to an integer to fit with the comment and code above
        }

        else if(playerDecision === "PAPER"){
            playerDecision = 1;
        }

        else if(playerDecision === "SCISSORS"){
            playerDecision = 2;
        }

        else{
            alert("Your input was incorrect !!");

            return;
        }

        return playerDecision;

    }

    let playRound = (computerChoice, playerChoice) => {

        if(computerChoice === playerChoice){
             result.innerText = "TIE !!";
             results.appendChild(result);
        } //If both choices are equal its a tie

        else if((computerChoice === 0 && playerChoice === 2) || (computerChoice === 1 && playerChoice === 0) || (computerChoice === 2 && playerChoice === 1)){
            result.innerText = "The CPU has won !!";
            results.appendChild(result);
        } 
        //Makes the choice of who wins depending on the numbers ex: if computer choice is equal to one (paper) and player choice is equal to zero (rock) the computer wins, this if assumes the computer wins in all of the cases

        else {
            result.innerText = "The player has won !!"; //In the case that the if is wrong, the player wins
            results.appendChild(result);
        }

    }

    let game = () => {

        gameOnButton.addEventListener('click', () => {

            playRound(getComputerChoice(), getPlayerChoice(playerDecision))

        });

    }

    game();



</script>

</body>
</html>